/* style.css (Versão Final com Variável de Cor Global) */

:root {
  --cor-titulo-principal: #375255;
  --cor-principal-estudo: #9A3D12; /* Cor global do tema do estudo */
}

body {
    font-family: 'Noto Sans', sans-serif;
    background: #f3f4f6;
    margin: 0;
    padding: 0;
}
.container {
    max-width: 640px;
    margin: 40px auto;
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 2px 24px 0 rgba(0,0,0,0.06);
    overflow: hidden;
}
.barra-estudo {
    background: var(--cor-principal-estudo); /* Usando a variável */
    color: #fff;
    height: 45px;
    min-height: unset;
    max-height: 45px;
    padding: 0 32px;
    font-size: 16px;
    font-weight: 700;
    display: flex;
    align-items: center;
    text-align: center;
}		
main {
    padding: 24px 32px;
}
@media (max-width: 700px) {
    main { padding: 17px 28px; } 
    .container { margin: 0; border-radius: 0; }
    .barra-estudo { padding: 0 32px; }
}
.secao-cantico p {
    margin-top: 16px;
    margin-bottom: 30px;
}
.cantico {
    color: #3264b2;        
    font-size: 15px;
    font-weight: 700;      
    text-transform: uppercase;
}
.cantico-titulo {
    color: #4b4b4b;        
    font-size: 1rem;       
    font-weight: 400;
}
.estudo-titulo {
    font-size: 28px;
    color: var(--cor-titulo-principal);
    font-weight: 800;
    line-height: 1.15;
    margin: 0 0 8px 0;
    margin-bottom: 30px;
}
.citacao {
    color: #626262;
    font-style: italic;
    margin-bottom: 30px;
    font-size: 15px;
}
.citacao .bbl {
    font-style: normal;
}
.objetivo {
    border-left: 2px solid var(--cor-principal-estudo); /* Usando a variável */
    background: #ffffff; 
    padding: 4px 18px; 
    margin-bottom: 32px;
}
.objetivo p {
    margin: 0;
}
p.objetivo-titulo {
    font-weight: 800;
    color: #626262;
    font-size: 0.96rem;
    text-transform: uppercase;
    margin-bottom: 1px;
}
.objetivo-texto {
    color: #626262;
    font-size: 1rem;
    line-height: 1.4;
}
.pergunta {
    color: #626262;
    font-size: 0.85rem;
    font-weight: 400;
    margin-bottom: 15px;
}
.pergunta span {
    font-weight: 700;
}
.comentarios {
    width: 100%;
    padding: 8px 8px;
    font-size: 0.90rem;
    font-family: inherit;
    color: #626262;
    box-sizing: border-box;
    margin-bottom: 15px;
    line-height: 1.2;
    border: 1.6px solid #d1d5db;
    border-radius: 5px; 
    transition: border-color 0.2s, box-shadow 0.2s;
}
.comentarios:focus {
    outline: none;
    border-color: #375255;
    box-shadow: 0 0 8px rgba(55, 82, 85, 0.4);
}
.bbl {
    color: #3264b2;
    text-decoration: none;
}

/* ===== NOVA REGRA PARA FORÇAR O NEGRITO NO LINK ===== */
/* Esta regra diz: "Qualquer link com a classe .bbl que estiver dentro de um <strong> ou <b>... */
strong .bbl,
b .bbl {
    /* ... deve herdar o peso da fonte (negrito) do seu pai." */
    font-weight: inherit;
}
/* ======================================================= */

.paragrafo {
    color: #292929;
    font-size: 1rem;
    margin-bottom: 24px;
    line-height: 1.62;
    -webkit-user-select: text;
}
.paragrafo span {
    font-weight: 700;
    font-size: 0.85rem;
    color: #555;
    margin-right: 0.3em;
}
.subtitulo {
    font-size: 22px;
    font-weight: 700;
    color: var(--cor-titulo-principal);
    text-align: center;
    text-transform: uppercase;
    line-height: 1.3;
    margin-bottom: 24px;
}

/* ===== ESTILOS REFINADOS PARA O RODAPÉ ===== */

.linha-divisoria {
    border: none;
    height: 1px;
    background-color: #626262;
    margin: 28px 0;
}

.nota-rodape {
    color: #626262;
    font-size: 0.82rem;
    line-height: 1.5;
    margin: 0 0 14px 0;
    padding: 0;
}

/* AQUI ESTÁ O AJUSTE FINO */
.simbolo-rodape {
    font-size: 0.6rem;
    vertical-align: 0.25em;  /* Valor ajustado para uma altura mais sutil */
    margin-right: 2px;
    font-weight: normal;
}

/* --- ESTILOS DE MARCAÇÃO ATUALIZADOS --- */
@keyframes sweep-highlight {
  from { background-size: 0% 100%; }
  to { background-size: 100% 100%; }
}

mark {
  background-color: transparent; 
  color: inherit;
  padding: 0.1em 0;
  background-image: linear-gradient(to right, #fff799, #fff799);
  background-repeat: no-repeat;
  background-position: left;
  background-size: 100% 100%; 
}

mark.ia-highlight {
  background-size: 0% 100%;
  animation-name: sweep-highlight;
  animation-duration: 1s;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
  animation-delay: 0.2s;
}

mark.ia-highlight-b {
  background-image: linear-gradient(to right, #c8e6c9, #c8e6c9);
  background-size: 0% 100%;
  animation-name: sweep-highlight;
  animation-duration: 1s;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
  animation-delay: 0.2s;
}

mark.ia-underline-recap {
  background: none; 
  color: inherit;   
  padding: 0;
  border-bottom: 1px dotted #888;
  animation: none;
}

.ia-ref-paragrafo {
  position: absolute;
  bottom: 8px;
  right: 12px;
  font-size: 0.7rem;
  font-weight: 600;
  color: #626262;
  pointer-events: none;
}

.figura-container {
    margin: 32px 0;
    padding: 0;
    border: none;
    background-color: transparent;
}

.figura-container img {
    width: 100%;
    display: block;
    border-radius: 0;
    box-shadow: none;
}

.figura-legenda {
    margin-top: 12px;
    padding: 0;
    font-size: 0.8rem;
    color: #626262;
    line-height: 1.5;
    text-align: left;
    position: relative;
}

.figura-legenda::after {
    content: '';
    display: block;
    width: 100px;
    height: 2px;
    background-color: var(--cor-principal-estudo);
    margin-top: 14px;
}

.figura-erro {
    padding: 20px;
    text-align: center;
    color: #b91c1c;
    background-color: #fee2e2;
    border-radius: 8px;
}

.secao-recapitulacao {
    padding-top: 13px;
    margin-bottom: 30px;
}

.linha-recapitulacao {
    border: none;
    height: 2px;
    background-color: var(--cor-principal-estudo);
    margin: 0 0 22px 0;
}
    
.titulo-recapitulacao {
    font-size: 23px;
    font-weight: 700;
    color: #333;
    text-transform: uppercase;
    margin: 0 0 22px 0;
}

.lista-recapitulacao {
    list-style: disc outside;
    margin: 0;
    padding-left: 1.2rem;
}

.lista-recapitulacao li {
    margin-bottom: 14px;
    padding: 0;
    position: static;
    color: #292929;
    line-height: 1.5;
}

.lista-recapitulacao li::before { content: none; }

.lista-recapitulacao li::marker {
    color: #333;
}

.lista-recapitulacao li .comentarios {
    margin-top: 14px;
    width: 100%;
}

.lista-recapitulacao .anotacao .ia-wrapper {
  margin: 8px 0 10px 0;
}

mark.ia-highlight.ia-underline-recap {
  background-image: linear-gradient(to right, #fff799, #fff799);
  background-size: 0% 100%;
  animation-name: sweep-highlight;
  animation-duration: 1s;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
  animation-delay: 0.2s;
  border-bottom: 1px dotted #888;
}

mark.ia-highlight-b.ia-underline-recap {
  background-image: linear-gradient(to right, #c8e6c9, #c8e6c9);
  background-size: 0% 100%;
  animation-name: sweep-highlight;
  animation-duration: 1s;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
  animation-delay: 0.2s;
  border-bottom: 1px dotted #888;
}

mark.ia-highlight.ia-underline-recap,
mark.ia-highlight-b.ia-underline-recap {
  text-decoration: none !important;
  border-bottom: 1px dotted #888 !important;
}

<style id="bbl-hotfix">
  /* Desliga o autosize do iOS de forma assertiva */
  html { -webkit-text-size-adjust: none; text-size-adjust: none; }

  /* Nivela o trecho sem quebra e os .bbl */
  .no-wrap,
  .no-wrap a.bbl,
  .paragrafo a.bbl,
  .citacao a.bbl {
    font-size: inherit !important;
    line-height: inherit !important;
    letter-spacing: inherit !important;
  }
</style>