<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editor de Texto - Container</title>
    
    <!-- CSS principais -->
    <link rel="stylesheet" href="container.css">
    <link rel="stylesheet" href="barra/barra.css">
    <link rel="stylesheet" href="editor/editor.css">
    
    <!-- CSS dos plugins -->
    <link rel="stylesheet" href="barra/plugin/undo/undo.css">
    <link rel="stylesheet" href="barra/plugin/negrita/negrita.css">
    <link rel="stylesheet" href="barra/plugin/toggle/toggle.css">
    <link rel="stylesheet" href="barra/plugin/bullet/bullet.css">
    <link rel="stylesheet" href="barra/plugin/font/font.css">
    <link rel="stylesheet" href="barra/plugin/cores/cores.css">
    
    <!-- NOVO: CSS do sistema bíblico -->
    <link rel="stylesheet" href="biblia/stylebbl.css">
    <link rel="stylesheet" href="barra/plugin/leitor/leitor.css">
    
    <!-- Navbar unificada -->
    <link rel="stylesheet" href="../navbar/navbar-unified.css">
    
    <style>
        /* Seus estilos originais permanecem aqui */
        .semana-indicator {
            position: fixed; top: 10px; right: 10px; background: #3F3C6D;
            color: white; padding: 6px 12px; border-radius: 20px; font-size: 12px;
            font-weight: 600; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }
        .save-status {
            position: fixed; bottom: 100px; right: 10px; background: #28a745;
            color: white; padding: 4px 8px; border-radius: 12px; font-size: 11px;
            font-weight: 500; opacity: 0; transition: opacity 0.3s ease; z-index: 1000;
        }
        .save-status.show { opacity: 1; }
        .save-status.saving { background: #ffc107; color: #333; }
        .save-status.typing { background: #6c757d; color: white; }
        .save-status.local { background: #17a2b8; color: white; }
        .save-status.error { background: #dc3545; color: white; }
        .supabase-loading-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px); display: flex; align-items: center;
            justify-content: center; z-index: 9999; opacity: 0; visibility: hidden;
            transition: all 0.3s ease;
        }
        .supabase-loading-overlay.show { opacity: 1; visibility: visible; }
        .loading-content { text-align: center; color: #3F3C6D; }
        .loading-spinner {
            width: 40px; height: 40px; border: 3px solid rgba(63, 60, 109, 0.3);
            border-top: 3px solid #3F3C6D; border-radius: 50%;
            animation: spin 1s linear infinite; margin: 0 auto 15px auto;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .loading-text { font-size: 16px; font-weight: 600; margin-bottom: 5px; }
        .loading-subtitle { font-size: 14px; color: #666; }
    </style>
</head>
<body>
    <div class="supabase-loading-overlay" id="supabase-loading">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div class="loading-text">Carregando anotações</div>
            <div class="loading-subtitle">Sincronizando com a nuvem...</div>
        </div>
    </div>
    
    <div class="semana-indicator" id="semana-indicator">Carregando...</div>
    <div class="save-status" id="save-status">Salvo automaticamente</div>
    
    <div class="main-container">
        <div class="toolbar-shelf" id="toolbar-container"></div>
        <div class="editor-area"></div>
    </div>
    
    <!-- NOVO: Modal bíblico (será criado dinamicamente pelo plugin se necessário) -->
    
    <!-- Seus scripts originais, na ordem correta -->
    <script src="cache-r.js"></script>
    <script src="barra/barra.js"></script>
    <script src="editor/editor.js"></script>
    <script src="barra/plugin/undo/undo.js"></script>
    <script src="barra/plugin/negrita/negrita.js"></script>
    <script src="barra/plugin/toggle/toggle.js"></script>
    <script src="barra/plugin/bullet/bullet.js"></script>
    <script src="barra/plugin/font/font.js"></script>
    <script src="barra/plugin/cores/cores.js"></script>
    
    <!-- NOVO: Sistema bíblico -->
    <script src="biblia/abrev.js"></script>
    <script src="biblia/scriptbbl-container.js"></script>
    
    <!-- NOVO: Plugin de leitura bíblica -->
    <script src="barra/plugin/leitor/leitor.js"></script>
    
    <!-- NOVO: Sistema bíblico -->
    <script src="biblia/abrev.js"></script>
    <script src="biblia/scriptbbl.js"></script>
    
    <!-- NOVO: Plugin de leitura bíblica -->
    <script src="plugins/leitor/leitor.js"></script>
    
    <!-- NOVO: Modal bíblico (será criado dinamicamente pelo plugin se necessário) -->
    
    <!-- Sistema de sincronização -->
    <script src="../save/config.js"></script>
    <script src="../save/supabase.js"></script>
    <!-- MUDANÇA: Removido sync-bridge.js, adicionado unified-load.js -->
    <script src="../save/unified-load.js"></script>
    <script src="../save/auto-save.js"></script>
    
    <!-- Navbar e Debug -->
    <script src="../navbar/navbar-unified.js"></script>

</body>
</html>